# medibaシステムガイドライン

## はじめに
medibaは、当社のサービスが社会に与える影響を重要視しており、そのサービスを支えるシステムは、安全で、高品質なものを提供することがシステム携わる人の責務です。

このガイドラインでは、medibaにおいて、システム開発・運用をする上で、システムに携わる皆さんに理解していただき、守っていただきたい事項を定めます。
ここに述べられている項目以外でも、システムに携わる皆さんは、常日頃から様々な情報に触れ、技術や能力の向上と、品質の維持に努めてください。

## 開発する前に考慮するべき事項

### 品質管理プロセスの遵守

過去の障害事例から得たナレッジで品質管理プロセスが成り立っています。
各チェック項目、レビュー、承認の遵守をお願いします。

### 機能の共有

- 提供していく機能や画面が関係者間で認識齟齬が発生しないように管理すること
  - ログイン有無、キャッシュ有無、URL、APIエンドポイントなどを明記する
  - アドや計測タグなどの利用を明らかにする
  - 特定のユーザーのみに提供する機能や出し分けがあれば明記する
- 作成されたドキュメントは適切にアップデートを行ない、改修の際に漏れが発生しないようにすること

### 性能要件とアーキテクチャ

- 満たすべきレスポンス、パフォーマンスを事前に想定する
- 原則、DBアクセスを極力少なくするような仕組みとすること。 （キャッシュを最大限活用＆キャッシュの冗長構成）
- 今後のアクセス増、データボリューム増を考慮したスケーラビリティを検討すること。(スケールアップ、スケールアウト)
- Disaster Recovery(災害対策)を考慮したシステム構成を検討すること。
- バーストした際の対応、バーストしないための予防策について検討すること。
- DBはサービス規模や仕様などにより用途を分け、最適な構成を検討すること。
- サービスをクローズする場合も考慮してアーキテクチャを検討しているか。

### 移行要件の可否

- 移行データの有無、移行ツールの作成要否、移行時のシステム停止、データ整備の有無など、設計・開発のスケジュール・工数にインパクトのある内容、切替時に留意しなければいけない移行要件がないかを確認しておくこと

### 取り扱うサービスの要件

- 個人情報の取り扱い有無、決済・ポイント関連機能の有無
    `` 本来はセキュリティレビュー組織体を用意して、個別にワークフローを設けるべき ``

### ソースコードマネジメント

- プロダクト資産は、github(Organizationで契約中)のプライベートリポジトリで管理すること
- 原則GitHub Flowやgit-flowを利用するが、PJ規模やリリースサイクルなどによってチームで最適化していき、どういうフローで回っているかはREADMEで明文化しチーム共通認識として持つ

## 日常的に注意する事項

### パスワードの強度

- トークンや、公開鍵認証など、多要素認証を受け入れるシステムは、積極的に使用
- パスワードは、「英単語」＋「記号 or 数字」＋「システム識別子」で作成すると長いものでも覚えやすい

### 利用するアプリケーション

- ChromeやFirefoxのアプリは脆弱性を埋め込まれる可能性が高いため、利用には十分の注意を払う
- Adobe製品やOffice製品は脆弱性を仕込まれることが多いため、アップデートは必須

### その他注意事項

- メールにあるリンクのクリック、添付ファイルを実行する際は極力注意すること
    - 送られてきた人のメールアドレスを注意深く読み解く
    - 普段のメールの文言や職務タイトルと異なる場合などは注意
- オフィス以外で業務をする場合は、
 - 端末を外部に持ち出す場合は持ち出し用端末を利用すること
 - 端末を常に持ちあるくこと（トイレも携行）
 - パスワード付きスクリーンセーバーにすること
 - WiFiへの接続の際は、信頼できる業者のものを利用すること（有料がベター）

## 開発前に読むべきもの

- [IPA 安全なウェブサイトの作り方](https://www.ipa.go.jp/security/vuln/websecurity.html)
- [IPA セキュリティ・プログラミング講座](https://www.ipa.go.jp/security/awareness/vendor/programmingv2/index.html)
- [セキュリティチェックリスト](SecurityCheckList.md)

## 業務別ガイドライン

- [アプリケーション開発ガイドライン](AppDeveloperGuideline.md)
- [AWSインフラストラクチャーガイドライン](AWSInfraBuildGuideline.md)
- [セキュリティガイドライン](SecurityGuideline.md)
- [テストガイドライン](TestGuideline.md)
- [アプリケーションガイドライン](AppLogGuideline.md)
- [リリースガイドライン](ReleaseGuideline.md)
- [システム運用ガイドライン](OpsGuideline.md)
- [外注開発ガイドライン](OutsourceDevelopment.md)
